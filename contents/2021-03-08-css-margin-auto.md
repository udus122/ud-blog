---

title: "CSS margin: autoのはまりどころ、widthとの関係性"
date: "2021-03-08T05:35:07.322Z"

---

# CSS `margin: auto`のはまりどころ、`width`との関係性

よくCSSの入門的なテクニックとして出てくるのが、`margin: auto`とすると、要素を左右中央寄せにするものがある。

しかし、このとき出てくる`auto`とは何なのか、なかなかよく理解できなかったが、やっと理解できた気がするので備忘録として将来の自分への解説を残しておく。  

前提として把握しておかければいけないことは、`margin`というCSSプロパティの初期値である。
`margin`は`margin-top`、`margin-bottom`、`margin-left`、`margin-right`を一気にまとめて指定するためのプロパティであり、なくても最悪困らないめんどくさがりのためのプロパティであることは覚えておく必要がある。

また、その初期値は`0`であり、デフォルトではmarginは全く存在しないということも覚えておく必要がある。  

では次に、`margin: auto`がやっていることは何なのか?  

marginプロパティにautoというキーワードを設定した時にブラウザに期待する挙動は「余ったマージンを吸収するということである。」
そのため、`margin: 0 auto`とすると、左右の余った余白が均等に分配されるように吸収されて、結果的に中央寄せになるという仕組みらしい。  

詳しいことは詳細に解説してくれている記事が山ほどあるので、ぐぐると出てくるのでそちらを参照したほうがわかりやすいと思う。
[CSSで中央寄せする9つの方法（縦・横にセンタリング）](https://saruwakakun.com/html-css/basic/centering)  

ここで疑問に思ったのが、ブロック要素はデフォルトで左右いっぱいに広がるように配置されるのに、どこにマージンが生まれるのか?マージンがないはずなのに「余ったマージンを吸収する」ってどういうこと?
ということだった。  

それについていろいろ調べながら実験していると、分かったのが以下のことである。  

たしかに単にブロック要素を配置するだけではマージンは生まれない。そのため、`margin: 0 auto`としても見た目は一切変わらない  

しかし、ブロック要素に`width`を設定すると、余った分の幅が実質`margin-right`として設定される  

これは書字方向によっても変わるかも知れないが議論がややこしくなるのでいったん置いておく  

そのため、`width`とせっとで`margin: 0 auto`を設定すると要素が中央寄せになる。  

この辺の仕組みをよく理解しないまま`margin: 0 auto`で中央寄せだと覚えていただけだったので、なんとなくもやもやを感じていたのだがやったスッキリした気がする。  

## まとめ

- marginの初期値は0
- ブロック要素はデフォルトでは横いっぱいに広がる
- そのため、`margin: 0 auto`でも見た目は変わらない
- `margin: 0 auto`は`width`とセットで初めて意味がでる

## 参考

[margin: auto;の正体を暴く | セカヤサブログ](https://itokoba.com/archives/976)  
